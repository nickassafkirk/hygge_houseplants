{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container-fluid my-5">
    <div class="row">
        <div class="col-12 product-path ms-2 mb-5">
            <a href="{% url 'index' %}">Home</a> /
            <a href="{% url 'products' %}">Products</a> /
            <a href="{% url 'products' %}?category={{ product.category }}">{{ product.category | title }}</a> /
            <a href="{% url 'single_product' product.id %}">Product/{{product.id}}</a>
        </div>
        <div class="col-12 col-sm-6 col-lg-4 offset-lg-2">
            <img src="{% if product.image %}{{ product.image.url }}{% else %}{{ MEDIA_URL }}hero1.jpg{% endif %}" alt="{{ product.name }}" class="single-product-img">
        </div>
        <div class="col-12 col-sm-6 col-lg-4 mt-3 mt-sm-0">
            <h3 class="px-3 px-lg-5">{{ product.name }}</h3>
            <h4 class="px-3 px-lg-5">â‚¬{{ product.price }}</h4>
            <hr>
            
            <p class="px-3 px-lg-5"><strong>Availability: </strong>
                {% if product.quantity > 0 %}
                <span class="text-success">{{ product.quantity }} In Stock</span>
                {% else %}
                <span class="text-danger">Sold Out</span>
                {% endif %}
            </p>
            
            <form action="" class="row px-3 px-lg-5">
                
                <div class="col-8">
                    {% if variants %}
                        <select class="form-select" name="variant-select" id="variant-select">
                            {% for variant in variants %}
                            <option value="{{ variant.id }}">{{ variant.color | title }} - {{ variant.size | upper }}</option>
                            {% endfor %}
                        </select>
                    {% endif %}
                </div>
                <div class="col-4">
                    <input class="form-control" type="number" value="1">
                </div>
                <div class="col-12 mt-2">
                    <button class="btn btn-bright w-100 p-2">Add to Cart <i class="fas fa-cart-plus"></i></button>
                </div>
            </form>

            {% if request.user.is_superuser %}
            <div class="px-3 px-lg-5 mt-5">
                <a href="" class="text-info">Edit Product</a> | <a href="{% url 'delete_product' product.id %}" class="text-danger">Delete Product</a>
            </div>
            {% endif %}
        </div>
        <div class="col-12 col-lg-8 offset-lg-2">
            <hr>
            <p class="px-3 px-lg-5">{{ product.description }}</p>
        </div>
    </div>
    
</div>
{% endblock %}

